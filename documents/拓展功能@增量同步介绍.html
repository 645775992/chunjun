<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>纯钧</title><meta name="description" content="纯钧Chunjun"/><link rel="shortcut icon" href="/logo-dark.svg"/><meta name="next-head-count" content="5"/><link rel="preload" href="/chunjun/_next/static/css/36205a1ddc632699.css" as="style"/><link rel="stylesheet" href="/chunjun/_next/static/css/36205a1ddc632699.css" data-n-g=""/><link rel="preload" href="/chunjun/_next/static/css/7f6bd37aab40623f.css" as="style"/><link rel="stylesheet" href="/chunjun/_next/static/css/7f6bd37aab40623f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/chunjun/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/chunjun/_next/static/chunks/webpack-2e848446474e7607.js" defer=""></script><script src="/chunjun/_next/static/chunks/framework-715a76d8b0695da7.js" defer=""></script><script src="/chunjun/_next/static/chunks/main-81f142babc1febde.js" defer=""></script><script src="/chunjun/_next/static/chunks/pages/_app-77639b8fccbf5d8b.js" defer=""></script><script src="/chunjun/_next/static/chunks/pages/documents/%5Bslug%5D-01a94754c5e6459d.js" defer=""></script><script src="/chunjun/_next/static/REK1tIySAbARj3BayRXco/_buildManifest.js" defer=""></script><script src="/chunjun/_next/static/REK1tIySAbARj3BayRXco/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css-global zl4edr">html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;}body{margin:0;}article,aside,footer,header,nav,section,figcaption,figure,main{display:block;}h1{font-size:2em;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background:transparent;text-decoration-skip:objects;}a:active,a:hover{outline-width:0;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;}b,strong{font-weight:bolder;}code,kbp,samp{font-family:monospace,monospace;font-size:1em;}dfn{font-style:italic;}mark{background-color:#ff0;color:#000;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}audio,video{display:inline-block;}audio:not([controls]){display:none;height:0;}img{border-style:none;vertical-align:middle;}svg:not(:root){overflow:hidden;}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type=reset],[type=submit]{-webkit-appearance:button;}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{display:inline-block;vertical-align:baseline;}textarea{overflow:auto;}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0;}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto;}[type=search]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;-moz-appearance:button;-ms-appearance:button;appearance:button;font:inherit;}details,menu{display:block;}summary{display:-webkit-box;display:-webkit-list-item;display:-ms-list-itembox;display:list-item;}canvas{display:inline-block;}template{display:none;}[hidden]{display:none;}</style><style data-emotion="css-global o0vtrk">*,*::before,*::after{box-sizing:border-box;}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;background-color:#1A1B1E;color:#C1C2C5;line-height:1.55;font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}</style><div class="mantine-AppShell-root mantine-osix87"><div class="mantine-ibbm6b mantine-AppShell-body"><main class="mantine-8jpvk4 mantine-AppShell-main"><header class="mantine-Header-root flex items-center justify-between sticky shadow-md bg--gray-50 2xl:px-[22vw] mantine-l7uzwz"><button class="mantine-UnstyledButton-root mantine-Burger-root md:hidden inline-block mantine-1qunjfw" type="button"><div class="mantine-efwleb mantine-Burger-burger"></div></button><div class="h-full flex items-center flex-1 cursor-pointer"><div class="flex h-full items-center md:justify-start justify-center md:w-auto w-full"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2748%27%20height=%2748%27/%3e"/></span><img alt="logo of chunjun" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="logo of chunjun" srcSet="https://dtstack.github.io/chunjun/logo-dark.svg?auto=format&amp;fit=max&amp;w=48 1x, https://dtstack.github.io/chunjun/logo-dark.svg?auto=format&amp;fit=max&amp;w=96 2x" src="https://dtstack.github.io/chunjun/logo-dark.svg?auto=format&amp;fit=max&amp;w=96" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span><div class="mantine-Text-root text-xl capitalize flex items-center font-raleway select-none mantine-ljqvxq">Chunjun</div></div><div class="h-full justify-center flex-1 md:flex hidden items-center"><a class="font-raleway inline-block md:w-[72px] text-center" href="/chunjun">首页</a><a class="font-raleway inline-block md:w-[72px] text-center" href="/chunjun/documents/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B">文档</a><a href="https://github.com/DTStack/chunjun/releases" class="font-raleway inline-block md:w-[72px] text-center" target="blank">下载</a><a class="font-raleway inline-block md:w-[72px] text-center" href="/chunjun/faq">指南</a><span class="flex items-center md:w-[72px] justify-center text-center" aria-haspopup="menu" aria-expanded="false" aria-controls="mantine-Rb9da6-dropdown" id="mantine-Rb9da6-target">案例<svg xmlns="http://www.w3.org/2000/svg" class="ml-1" width="16" height="16" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></span></div></div><div class="h-full flex items-center space-x-4 pr-[9px]"><div class="mantine-SegmentedControl-root mantine-1lhn4s5"><div class="__mantine-ref-control mantine-SegmentedControl-control mantine-SegmentedControl-controlActive mantine-h4is5c"><input class="mantine-1nwij4 mantine-SegmentedControl-input" type="radio" name="mantine-Rtda6" id="mantine-Rtda6-zh-Hans" checked="" value="zh-Hans"/><label class="__mantine-ref-label mantine-SegmentedControl-label mantine-SegmentedControl-labelActive mantine-1kbbj7g" for="mantine-Rtda6-zh-Hans">简体中文</label></div><div class="__mantine-ref-control mantine-y33k1r mantine-SegmentedControl-control"><input class="mantine-1nwij4 mantine-SegmentedControl-input" type="radio" name="mantine-Rtda6" id="mantine-Rtda6-en" value="en"/><label class="__mantine-ref-label mantine-1iq8fgn mantine-SegmentedControl-label" for="mantine-Rtda6-en">English</label></div></div><button class="mantine-UnstyledButton-root mantine-ActionIcon-root mantine-1pknu1d" type="button"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path></svg></button></div><style data-emotion="css-global bfdpot">:root{--mantine-header-height:64px;}</style></header><main class="md:pl-[256px] relative"><aside class="fixed   rounded-md m-[20px] shadow-xl h-[calc(100vh-100px)] overflow-y-auto left-0 top-[64px] overflow-hidden w-[calc(100vw-40px)] hidden md:flex bg-[#333] dark-scrollbar"><div class="w-[200px] h-[calc(100vh-100px)] overflow-y-auto shrink-0"><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E9%80%9A%E7%94%A8%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3">* <!-- -->ChunJun通用配置详解</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B">* <!-- -->快速开始</p><div><p class="p-2 text-[18px] font-[800] ">ChunJun拓展数据格式</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E6%8B%93%E5%B1%95%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F@protobuf-x">* <!-- -->protobuf-x</p></div><div><p class="p-2 text-[18px] font-[800] ">ChunJun连接器</p><div><p class="p-2 text-[18px] font-[800] ">binlog</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@binlog@binlog-source">* <!-- -->binlog-source</p></div><div><p class="p-2 text-[18px] font-[800] ">clickhouse</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@clickhouse@clickhouse-lookup">* <!-- -->clickhouse-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@clickhouse@clickhouse-sink">* <!-- -->clickhouse-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@clickhouse@clickhouse-source">* <!-- -->clickhouse-source</p></div><div><p class="p-2 text-[18px] font-[800] ">db2</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@db2@db2-lookup">* <!-- -->db2-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@db2@db2-sink">* <!-- -->db2-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@db2@db2-source">* <!-- -->db2-source</p></div><div><p class="p-2 text-[18px] font-[800] ">dm</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@dm@dm-sink">* <!-- -->dm-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@dm@dm-source">* <!-- -->dm-source</p></div><div><p class="p-2 text-[18px] font-[800] ">doris</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@doris@dorisbatch-sink">* <!-- -->dorisbatch-sink</p></div><div><p class="p-2 text-[18px] font-[800] ">elasticsearch</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@elasticsearch@es7-lookup">* <!-- -->es7-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@elasticsearch@es7-sink">* <!-- -->es7-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@elasticsearch@es7-source">* <!-- -->es7-source</p></div><div><p class="p-2 text-[18px] font-[800] ">gbase</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@gbase@gbase-lookup">* <!-- -->gbase-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@gbase@gbase-sink">* <!-- -->gbase-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@gbase@gbase-source">* <!-- -->gbase-source</p></div><div><p class="p-2 text-[18px] font-[800] ">greenplum</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@greenplum@greenplum-sink">* <!-- -->greenplum-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@greenplum@greenplum-source">* <!-- -->greenplum-source</p></div><div><p class="p-2 text-[18px] font-[800] ">hbase</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@hbase@hbase-lookup">* <!-- -->hbase-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@hbase@hbase-sink">* <!-- -->hbase-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@hbase@hbase-source">* <!-- -->hbase-source</p></div><div><p class="p-2 text-[18px] font-[800] ">hdfs</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@hdfs@hdfs-sink">* <!-- -->hdfs-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@hdfs@hdfs-source">* <!-- -->hdfs-source</p></div><div><p class="p-2 text-[18px] font-[800] ">hive</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@hive@hive-lookup">* <!-- -->hive-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@hive@hive-sink">* <!-- -->hive-sink</p></div><div><p class="p-2 text-[18px] font-[800] ">influxdb</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@influxdb@influxdb-sink">* <!-- -->influxdb-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@influxdb@influxdb-source">* <!-- -->influxdb-source</p></div><div><p class="p-2 text-[18px] font-[800] ">kafka</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@kafka@kafka-sink">* <!-- -->kafka-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@kafka@kafka-source">* <!-- -->kafka-source</p></div><div><p class="p-2 text-[18px] font-[800] ">kingbase</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@kingbase@kingbase-sink">* <!-- -->kingbase-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@kingbase@kingbase-source">* <!-- -->kingbase-source</p></div><div><p class="p-2 text-[18px] font-[800] ">kudu</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@kudu@kudu-lookup">* <!-- -->kudu-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@kudu@kudu-sink">* <!-- -->kudu-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@kudu@kudu-source">* <!-- -->kudu-source</p></div><div><p class="p-2 text-[18px] font-[800] ">logminer</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@logminer@LogMiner-source">* <!-- -->LogMiner-source</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@logminer@LogMiner%E5%8E%9F%E7%90%86">* <!-- -->LogMiner原理</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@logminer@LogMiner%E9%85%8D%E7%BD%AE">* <!-- -->LogMiner配置</p></div><div><p class="p-2 text-[18px] font-[800] ">mongodb</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@mongodb@mongodb-lookup">* <!-- -->mongodb-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@mongodb@mongodb-sink">* <!-- -->mongodb-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@mongodb@mongodb-source">* <!-- -->mongodb-source</p></div><div><p class="p-2 text-[18px] font-[800] ">mysql</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@mysql@mysql-lookup">* <!-- -->mysql-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@mysql@mysql-sink">* <!-- -->mysql-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@mysql@mysql-source">* <!-- -->mysql-source</p></div><div><p class="p-2 text-[18px] font-[800] ">oracle</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@oracle@oracle-lookup">* <!-- -->oracle-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@oracle@oracle-sink">* <!-- -->oracle-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@oracle@oracle-source">* <!-- -->oracle-source</p></div><div><p class="p-2 text-[18px] font-[800] ">pgwal</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@pgwal@Postgres-CDC">* <!-- -->Postgres-CDC</p></div><div><p class="p-2 text-[18px] font-[800] ">postgresql</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@postgresql@postgres-lookup">* <!-- -->postgres-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@postgresql@postgres-sink">* <!-- -->postgres-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@postgresql@postgres-source">* <!-- -->postgres-source</p></div><div><p class="p-2 text-[18px] font-[800] ">rocketmq</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@rocketmq@rocketmq-source">* <!-- -->rocketmq-source</p></div><div><p class="p-2 text-[18px] font-[800] ">saphana</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@saphana@saphana-sink">* <!-- -->saphana-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@saphana@saphana-source">* <!-- -->saphana-source</p></div><div><p class="p-2 text-[18px] font-[800] ">sqlserver</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@sqlserver@sqlserver-lookup">* <!-- -->sqlserver-lookup</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@sqlserver@sqlserver-sink">* <!-- -->sqlserver-sink</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@sqlserver@sqlserver-source">* <!-- -->sqlserver-source</p></div><div><p class="p-2 text-[18px] font-[800] ">sqlservercdc</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@sqlservercdc@SqlServer%20CDC%E5%AE%9E%E6%97%B6%E9%87%87%E9%9B%86%E5%8E%9F%E7%90%86">* <!-- -->SqlServer CDC实时采集原理</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@sqlservercdc@SqlServer%E9%85%8D%E7%BD%AECDC">* <!-- -->SqlServer配置CDC</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/ChunJun%E8%BF%9E%E6%8E%A5%E5%99%A8@sqlservercdc@SqlserverCDC-source">* <!-- -->SqlserverCDC-source</p></div></div><div><p class="p-2 text-[18px] font-[800] ">开发者指南</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/%E5%BC%80%E5%8F%91%E8%80%85%E6%8C%87%E5%8D%97@%E5%A6%82%E4%BD%95%E6%8F%90%E4%BA%A4%E4%B8%80%E4%B8%AA%E4%BC%98%E7%A7%80%E7%9A%84PR">* <!-- -->如何提交一个优秀的PR</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/%E5%BC%80%E5%8F%91%E8%80%85%E6%8C%87%E5%8D%97@%E5%A6%82%E4%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8F%92%E4%BB%B6">* <!-- -->如何自定义插件</p></div><div><p class="p-2 text-[18px] font-[800] ">拓展功能</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/%E6%8B%93%E5%B1%95%E5%8A%9F%E8%83%BD@%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5%E4%BB%8B%E7%BB%8D">* <!-- -->增量同步介绍</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/%E6%8B%93%E5%B1%95%E5%8A%9F%E8%83%BD@%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0%E4%BB%8B%E7%BB%8D">* <!-- -->断点续传介绍</p><p class="cursor-pointer p-2 text-[10px] text-white w-full" href="/chunjun/documents/%E6%8B%93%E5%B1%95%E5%8A%9F%E8%83%BD@%E8%84%8F%E6%95%B0%E6%8D%AE%E6%8F%92%E4%BB%B6%E8%AE%BE%E8%AE%A1">* <!-- -->脏数据插件设计</p></div></div><div class="h-[calc(100vh-100px)] flex-1 flex relative overflow-y-hidden px-[16px] pl-[8px] bg-[#112]"><div class="bg-[#333] flex-1 h-full rounded-md rounded-r-none overflow-auto"><div class="mantine-TypographyStylesProvider-root md:col-span-3 p-4 overflow-hidden mantine-1t1c6l3"><article class="article dark text-gray-400">
              <a id="什么是增量同步" style='display: block; height: 35px;'></a>
              <h1>
                什么是增量同步
              </h1>
            <p>​	增量同步主要针对某些只有Insert操作的表，随着业务增长，表内数据越来越多。如果每次都同步整表的话，消耗的时间和资源会比较多。因此需要一个增量同步的功能，每次只读取增加部分的数据。</p>

              <a id="原理解析" style='display: block; height: 35px;'></a>
              <h2>
                原理解析
              </h2>
            <p>​	其实现原理实际上就是配合增量键在查询的sql语句中拼接过滤条件，比如 where id &gt; ? ，将之前已经读取过的数据过滤出去。</p>
<p>​	增量同步是针对于两个及以上的同步作业来说的。对于初次执行增量同步的作业而言，实际上是整表同步，不同于其他作业的在于增量同步作业会在作业执行完成后记录一个endLocation指标，并将这个指标上传到prometheus以供后续使用。除第一次作业外，后续的所有增量同步作业都会取上一次作业的endLocation做为本次作业的过滤依据（startLocation）。比如第一次作业执行完后，endLocation为10，那么下一个作业就会构建出例如 SELECT id,name,age from table where id &gt; 10的SQL语句，达到增量读取的目的。</p>
<blockquote>
<p>增量键：数据库表中增量递增的字段，比如自增id</p>
</blockquote>

              <a id="使用限制" style='display: block; height: 35px;'></a>
              <h2>
                使用限制
              </h2>
            <ul>
<li>只有RDB的Reader插件插件可以使用<ul>
<li>通过构建SQL过滤语句实现，因此只能用于RDB插件</li>
<li>增量同步只关心读，不关心写，因此只与reader插件有关</li>
</ul>
</li>
<li>增量字段只能为数值类型和时间类型<ul>
<li>指标需要上传到prometheus，而prometheus不支持字符串类型，因此只支持数据类型和时间类型。时间类型会转换成时间戳后上传</li>
</ul>
</li>
<li>增量键的值可以重复，但必须递增<ul>
<li>由于使用&#39;&gt;&#39;的缘故，要求字段必须递增。</li>
</ul>
</li>
</ul>

              <a id="如何处理增量键重复场景" style='display: block; height: 35px;'></a>
              <h2>
                如何处理增量键重复场景
              </h2>
            <p>​	考虑可能存在这样的场景：某一次增量同步后的endLocation为x，在下一次增量同步作业启动的间隙中，表内又写入了增量键的值=x的数据。按照默认的情况，假设增量键为id，下一次作业会拼接例如SELECT id,name,age FROM table WHERE id &gt; x。此时在间隙中插入的id=x的数据将会丢失。</p>
<p>​	为了对应上述场景，chunjun增量同步提供了配置项useMaxFunc（默认值为false）。在设置useMaxFunc=true时，chunjun会在增量作业启动时获取当前数据库中增量键的最大值作为本次作业的endLocation，并且将用于startLocation的运算符号从&#39;&gt;&#39;改为&#39;&gt;=&#39;。例如：</p>
<ul>
<li>某一次增量启动时上次作业的endLocation为10，id最大值为100，那么将会拼接SQL语句 SELECT id,name,age FROM table WHERE id &gt;= 10 AND id &lt; 100</li>
<li>下一次增量作业启动时id的最大值为200，那么将会拼接SQL语句 SELECT id,name,age FROM table WHERE id &gt;=100 AND id &lt; 200</li>
</ul>

              <a id="如何使用增量同步" style='display: block; height: 35px;'></a>
              <h1>
                如何使用增量同步
              </h1>
            
              <a id="环境准备" style='display: block; height: 35px;'></a>
              <h2>
                环境准备
              </h2>
            <ul>
<li><p>由于是使用prometheus收集相关指标信息，因此需要先安装prometheus和pushgateway。</p>
</li>
<li><p>下载Flink Metric Prometheus依赖，将其放入Flink lib目录下</p>
<ul>
<li><a href="https://repo1.maven.org/maven2/org/apache/flink/flink-metrics-prometheus_2.12/1.12.7/flink-metrics-prometheus_2.12-1.12.7.jar">https://repo1.maven.org/maven2/org/apache/flink/flink-metrics-prometheus_2.12/1.12.7/flink-metrics-prometheus_2.12-1.12.7.jar</a></li>
</ul>
</li>
<li><p>修改Flink配置文件，conf/flink-conf.yaml，新增flink metric相关配置</p>
<pre><code class="language-yaml">metrics<span class="hljs-selector-class">.reporter</span><span class="hljs-selector-class">.promgateway</span><span class="hljs-selector-class">.host</span>: host01
metrics<span class="hljs-selector-class">.reporter</span><span class="hljs-selector-class">.promgateway</span><span class="hljs-selector-class">.port</span>: <span class="hljs-number">9091</span>
metrics<span class="hljs-selector-class">.reporter</span><span class="hljs-selector-class">.promgateway</span><span class="hljs-selector-class">.deleteOnShutdown</span>: false
metrics<span class="hljs-selector-class">.reporter</span><span class="hljs-selector-class">.promgateway</span><span class="hljs-selector-class">.class</span>: org<span class="hljs-selector-class">.apache</span><span class="hljs-selector-class">.flink</span><span class="hljs-selector-class">.metrics</span><span class="hljs-selector-class">.prometheus</span>.PrometheusPushGatewayReporter
</code></pre>
</li>
</ul>

              <a id="脚本配置" style='display: block; height: 35px;'></a>
              <h2>
                脚本配置
              </h2>
            <p>主要的配置项就是increColumn和startLocation</p>
<p>以mysql为例脚本如下：</p>
<pre><code class="language-json">{
  <span class="hljs-string">&quot;job&quot;</span>: {
    <span class="hljs-string">&quot;content&quot;</span>: [
      {
        <span class="hljs-string">&quot;reader&quot;</span>: {
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;mysqlreader&quot;</span>,
          <span class="hljs-string">&quot;parameter&quot;</span>: {
            <span class="hljs-string">&quot;column&quot;</span>: [
              {
                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;id&quot;</span>,
                <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;int&quot;</span>
              },
              {
                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;name&quot;</span>,
                <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>
              },
              {
                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;age&quot;</span>,
                <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;int&quot;</span>
              }
            ],
            <span class="hljs-string">&quot;customSql&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
            <span class="hljs-string">&quot;increColumn&quot;</span>: <span class="hljs-string">&quot;id&quot;</span>,  //指定增量字段进行增量同步，增量字段必须是column存在的字段
            <span class="hljs-string">&quot;startLocation&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>, //第一次执行时为空，可配置字符串或不配置，后续提交的作业使用prometheus中指标值
            <span class="hljs-string">&quot;username&quot;</span>: <span class="hljs-string">&quot;root&quot;</span>,
            <span class="hljs-string">&quot;password&quot;</span>: <span class="hljs-string">&quot;root&quot;</span>,
            <span class="hljs-string">&quot;connection&quot;</span>: [
              {
                <span class="hljs-string">&quot;jdbcUrl&quot;</span>: [
                  <span class="hljs-string">&quot;jdbc:mysql://localhost:3306/test?useSSL=false&quot;</span>
                ],
                <span class="hljs-string">&quot;table&quot;</span>: [
                  <span class="hljs-string">&quot;baserow&quot;</span>
                ]
              }
            ]
          }
        },
        <span class="hljs-string">&quot;writer&quot;</span>: {
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;streamwriter&quot;</span>,
          <span class="hljs-string">&quot;parameter&quot;</span>: {
            <span class="hljs-string">&quot;print&quot;</span>: false
          }
        }
      }
    ],
    <span class="hljs-string">&quot;setting&quot;</span>: {
      <span class="hljs-string">&quot;restore&quot;</span>: {
        <span class="hljs-string">&quot;restoreColumnName&quot;</span>: <span class="hljs-string">&quot;id&quot;</span>
      },
      <span class="hljs-string">&quot;speed&quot;</span>: {
        <span class="hljs-string">&quot;channel&quot;</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">&quot;bytes&quot;</span>: <span class="hljs-number">0</span>
      }
    }
  }
}
</code></pre>

              <a id="查询prometheus" style='display: block; height: 35px;'></a>
              <h2>
                查询prometheus
              </h2>
            <p>使用flink作业对应的JobId在普罗米修斯中查询endLocation指标值</p>
<pre><code>flink_taskmanager_job_task_operator_flinkx_endlocation{job_id<span class="hljs-operator">=</span><span class="hljs-string">&quot;xxx&quot;</span>}
</code></pre>
<p><img src="/chunjun/doc/incremental/prometheus-search.png" alt="image-20220508231718458"></p>
</article></div></div><div class="bg-[#333] w-[200px] shrink-0"><aside class="md:inline-block hidden relative pt-[50px]"><div class="sticky top-[100px] h-[100vh-64px] overflow-y-auto scrollbar border-l-gray-600 border-l-[1px]"><ul class="w-full pl-4"><li class="pl-2"><a href="#什么是增量同步" class="font-raleway text-sm hover:text-indigo-400">什么是增量同步</a></li><li class="pl-4"><a href="#原理解析" class="font-raleway text-sm hover:text-indigo-400">原理解析</a></li><li class="pl-4"><a href="#使用限制" class="font-raleway text-sm hover:text-indigo-400">使用限制</a></li><li class="pl-4"><a href="#如何处理增量键重复场景" class="font-raleway text-sm hover:text-indigo-400">如何处理增量键重复场景</a></li><li class="pl-2"><a href="#如何使用增量同步" class="font-raleway text-sm hover:text-indigo-400">如何使用增量同步</a></li><li class="pl-4"><a href="#环境准备" class="font-raleway text-sm hover:text-indigo-400">环境准备</a></li><li class="pl-4"><a href="#脚本配置" class="font-raleway text-sm hover:text-indigo-400">脚本配置</a></li><li class="pl-4"><a href="#查询prometheus" class="font-raleway text-sm hover:text-indigo-400">查询prometheus</a></li></ul></div></aside></div></div></aside></main></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"content":"\n              \u003ca id=\"什么是增量同步\" style='display: block; height: 35px;'\u003e\u003c/a\u003e\n              \u003ch1\u003e\n                什么是增量同步\n              \u003c/h1\u003e\n            \u003cp\u003e​\t增量同步主要针对某些只有Insert操作的表，随着业务增长，表内数据越来越多。如果每次都同步整表的话，消耗的时间和资源会比较多。因此需要一个增量同步的功能，每次只读取增加部分的数据。\u003c/p\u003e\n\n              \u003ca id=\"原理解析\" style='display: block; height: 35px;'\u003e\u003c/a\u003e\n              \u003ch2\u003e\n                原理解析\n              \u003c/h2\u003e\n            \u003cp\u003e​\t其实现原理实际上就是配合增量键在查询的sql语句中拼接过滤条件，比如 where id \u0026gt; ? ，将之前已经读取过的数据过滤出去。\u003c/p\u003e\n\u003cp\u003e​\t增量同步是针对于两个及以上的同步作业来说的。对于初次执行增量同步的作业而言，实际上是整表同步，不同于其他作业的在于增量同步作业会在作业执行完成后记录一个endLocation指标，并将这个指标上传到prometheus以供后续使用。除第一次作业外，后续的所有增量同步作业都会取上一次作业的endLocation做为本次作业的过滤依据（startLocation）。比如第一次作业执行完后，endLocation为10，那么下一个作业就会构建出例如 SELECT id,name,age from table where id \u0026gt; 10的SQL语句，达到增量读取的目的。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e增量键：数据库表中增量递增的字段，比如自增id\u003c/p\u003e\n\u003c/blockquote\u003e\n\n              \u003ca id=\"使用限制\" style='display: block; height: 35px;'\u003e\u003c/a\u003e\n              \u003ch2\u003e\n                使用限制\n              \u003c/h2\u003e\n            \u003cul\u003e\n\u003cli\u003e只有RDB的Reader插件插件可以使用\u003cul\u003e\n\u003cli\u003e通过构建SQL过滤语句实现，因此只能用于RDB插件\u003c/li\u003e\n\u003cli\u003e增量同步只关心读，不关心写，因此只与reader插件有关\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e增量字段只能为数值类型和时间类型\u003cul\u003e\n\u003cli\u003e指标需要上传到prometheus，而prometheus不支持字符串类型，因此只支持数据类型和时间类型。时间类型会转换成时间戳后上传\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e增量键的值可以重复，但必须递增\u003cul\u003e\n\u003cli\u003e由于使用\u0026#39;\u0026gt;\u0026#39;的缘故，要求字段必须递增。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n              \u003ca id=\"如何处理增量键重复场景\" style='display: block; height: 35px;'\u003e\u003c/a\u003e\n              \u003ch2\u003e\n                如何处理增量键重复场景\n              \u003c/h2\u003e\n            \u003cp\u003e​\t考虑可能存在这样的场景：某一次增量同步后的endLocation为x，在下一次增量同步作业启动的间隙中，表内又写入了增量键的值=x的数据。按照默认的情况，假设增量键为id，下一次作业会拼接例如SELECT id,name,age FROM table WHERE id \u0026gt; x。此时在间隙中插入的id=x的数据将会丢失。\u003c/p\u003e\n\u003cp\u003e​\t为了对应上述场景，chunjun增量同步提供了配置项useMaxFunc（默认值为false）。在设置useMaxFunc=true时，chunjun会在增量作业启动时获取当前数据库中增量键的最大值作为本次作业的endLocation，并且将用于startLocation的运算符号从\u0026#39;\u0026gt;\u0026#39;改为\u0026#39;\u0026gt;=\u0026#39;。例如：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e某一次增量启动时上次作业的endLocation为10，id最大值为100，那么将会拼接SQL语句 SELECT id,name,age FROM table WHERE id \u0026gt;= 10 AND id \u0026lt; 100\u003c/li\u003e\n\u003cli\u003e下一次增量作业启动时id的最大值为200，那么将会拼接SQL语句 SELECT id,name,age FROM table WHERE id \u0026gt;=100 AND id \u0026lt; 200\u003c/li\u003e\n\u003c/ul\u003e\n\n              \u003ca id=\"如何使用增量同步\" style='display: block; height: 35px;'\u003e\u003c/a\u003e\n              \u003ch1\u003e\n                如何使用增量同步\n              \u003c/h1\u003e\n            \n              \u003ca id=\"环境准备\" style='display: block; height: 35px;'\u003e\u003c/a\u003e\n              \u003ch2\u003e\n                环境准备\n              \u003c/h2\u003e\n            \u003cul\u003e\n\u003cli\u003e\u003cp\u003e由于是使用prometheus收集相关指标信息，因此需要先安装prometheus和pushgateway。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e下载Flink Metric Prometheus依赖，将其放入Flink lib目录下\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://repo1.maven.org/maven2/org/apache/flink/flink-metrics-prometheus_2.12/1.12.7/flink-metrics-prometheus_2.12-1.12.7.jar\"\u003ehttps://repo1.maven.org/maven2/org/apache/flink/flink-metrics-prometheus_2.12/1.12.7/flink-metrics-prometheus_2.12-1.12.7.jar\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e修改Flink配置文件，conf/flink-conf.yaml，新增flink metric相关配置\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003emetrics\u003cspan class=\"hljs-selector-class\"\u003e.reporter\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.promgateway\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.host\u003c/span\u003e: host01\nmetrics\u003cspan class=\"hljs-selector-class\"\u003e.reporter\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.promgateway\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.port\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e9091\u003c/span\u003e\nmetrics\u003cspan class=\"hljs-selector-class\"\u003e.reporter\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.promgateway\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.deleteOnShutdown\u003c/span\u003e: false\nmetrics\u003cspan class=\"hljs-selector-class\"\u003e.reporter\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.promgateway\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.class\u003c/span\u003e: org\u003cspan class=\"hljs-selector-class\"\u003e.apache\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.flink\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.metrics\u003c/span\u003e\u003cspan class=\"hljs-selector-class\"\u003e.prometheus\u003c/span\u003e.PrometheusPushGatewayReporter\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n              \u003ca id=\"脚本配置\" style='display: block; height: 35px;'\u003e\u003c/a\u003e\n              \u003ch2\u003e\n                脚本配置\n              \u003c/h2\u003e\n            \u003cp\u003e主要的配置项就是increColumn和startLocation\u003c/p\u003e\n\u003cp\u003e以mysql为例脚本如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;job\u0026quot;\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;content\u0026quot;\u003c/span\u003e: [\n      {\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;reader\u0026quot;\u003c/span\u003e: {\n          \u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;mysqlreader\u0026quot;\u003c/span\u003e,\n          \u003cspan class=\"hljs-string\"\u003e\u0026quot;parameter\u0026quot;\u003c/span\u003e: {\n            \u003cspan class=\"hljs-string\"\u003e\u0026quot;column\u0026quot;\u003c/span\u003e: [\n              {\n                \u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;int\u0026quot;\u003c/span\u003e\n              },\n              {\n                \u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;string\u0026quot;\u003c/span\u003e\n              },\n              {\n                \u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;age\u0026quot;\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;int\u0026quot;\u003c/span\u003e\n              }\n            ],\n            \u003cspan class=\"hljs-string\"\u003e\u0026quot;customSql\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\u0026quot;increColumn\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e,  //指定增量字段进行增量同步，增量字段必须是column存在的字段\n            \u003cspan class=\"hljs-string\"\u003e\u0026quot;startLocation\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;2\u0026quot;\u003c/span\u003e, //第一次执行时为空，可配置字符串或不配置，后续提交的作业使用prometheus中指标值\n            \u003cspan class=\"hljs-string\"\u003e\u0026quot;username\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;root\u0026quot;\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;root\u0026quot;\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\u0026quot;connection\u0026quot;\u003c/span\u003e: [\n              {\n                \u003cspan class=\"hljs-string\"\u003e\u0026quot;jdbcUrl\u0026quot;\u003c/span\u003e: [\n                  \u003cspan class=\"hljs-string\"\u003e\u0026quot;jdbc:mysql://localhost:3306/test?useSSL=false\u0026quot;\u003c/span\u003e\n                ],\n                \u003cspan class=\"hljs-string\"\u003e\u0026quot;table\u0026quot;\u003c/span\u003e: [\n                  \u003cspan class=\"hljs-string\"\u003e\u0026quot;baserow\u0026quot;\u003c/span\u003e\n                ]\n              }\n            ]\n          }\n        },\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;writer\u0026quot;\u003c/span\u003e: {\n          \u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;streamwriter\u0026quot;\u003c/span\u003e,\n          \u003cspan class=\"hljs-string\"\u003e\u0026quot;parameter\u0026quot;\u003c/span\u003e: {\n            \u003cspan class=\"hljs-string\"\u003e\u0026quot;print\u0026quot;\u003c/span\u003e: false\n          }\n        }\n      }\n    ],\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;setting\u0026quot;\u003c/span\u003e: {\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;restore\u0026quot;\u003c/span\u003e: {\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;restoreColumnName\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e\n      },\n      \u003cspan class=\"hljs-string\"\u003e\u0026quot;speed\u0026quot;\u003c/span\u003e: {\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;channel\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;bytes\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n      }\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n              \u003ca id=\"查询prometheus\" style='display: block; height: 35px;'\u003e\u003c/a\u003e\n              \u003ch2\u003e\n                查询prometheus\n              \u003c/h2\u003e\n            \u003cp\u003e使用flink作业对应的JobId在普罗米修斯中查询endLocation指标值\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eflink_taskmanager_job_task_operator_flinkx_endlocation{job_id\u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\u0026quot;xxx\u0026quot;\u003c/span\u003e}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/chunjun/doc/incremental/prometheus-search.png\" alt=\"image-20220508231718458\"\u003e\u003c/p\u003e\n","tree":[{"label":"ChunJun通用配置详解","category":"file"},{"label":"快速开始","category":"file"},{"label":"ChunJun拓展数据格式","children":[{"label":"protobuf-x","path":"protobuf-x","category":"file"}],"category":"dir"},{"label":"ChunJun连接器","children":[{"label":"binlog","category":"dir","children":[{"label":"binlog-source","path":"binlog-source","category":"file"}]},{"label":"clickhouse","category":"dir","children":[{"label":"clickhouse-lookup","path":"clickhouse-lookup","category":"file"},{"label":"clickhouse-sink","path":"clickhouse-sink","category":"file"},{"label":"clickhouse-source","path":"clickhouse-source","category":"file"}]},{"label":"db2","category":"dir","children":[{"label":"db2-lookup","path":"db2-lookup","category":"file"},{"label":"db2-sink","path":"db2-sink","category":"file"},{"label":"db2-source","path":"db2-source","category":"file"}]},{"label":"dm","category":"dir","children":[{"label":"dm-sink","path":"dm-sink","category":"file"},{"label":"dm-source","path":"dm-source","category":"file"}]},{"label":"doris","category":"dir","children":[{"label":"dorisbatch-sink","path":"dorisbatch-sink","category":"file"}]},{"label":"elasticsearch","category":"dir","children":[{"label":"es7-lookup","path":"es7-lookup","category":"file"},{"label":"es7-sink","path":"es7-sink","category":"file"},{"label":"es7-source","path":"es7-source","category":"file"}]},{"label":"gbase","category":"dir","children":[{"label":"gbase-lookup","path":"gbase-lookup","category":"file"},{"label":"gbase-sink","path":"gbase-sink","category":"file"},{"label":"gbase-source","path":"gbase-source","category":"file"}]},{"label":"greenplum","category":"dir","children":[{"label":"greenplum-sink","path":"greenplum-sink","category":"file"},{"label":"greenplum-source","path":"greenplum-source","category":"file"}]},{"label":"hbase","category":"dir","children":[{"label":"hbase-lookup","path":"hbase-lookup","category":"file"},{"label":"hbase-sink","path":"hbase-sink","category":"file"},{"label":"hbase-source","path":"hbase-source","category":"file"}]},{"label":"hdfs","category":"dir","children":[{"label":"hdfs-sink","path":"hdfs-sink","category":"file"},{"label":"hdfs-source","path":"hdfs-source","category":"file"}]},{"label":"hive","category":"dir","children":[{"label":"hive-lookup","path":"hive-lookup","category":"file"},{"label":"hive-sink","path":"hive-sink","category":"file"}]},{"label":"influxdb","category":"dir","children":[{"label":"influxdb-sink","path":"influxdb-sink","category":"file"},{"label":"influxdb-source","path":"influxdb-source","category":"file"}]},{"label":"kafka","category":"dir","children":[{"label":"kafka-sink","path":"kafka-sink","category":"file"},{"label":"kafka-source","path":"kafka-source","category":"file"}]},{"label":"kingbase","category":"dir","children":[{"label":"kingbase-sink","path":"kingbase-sink","category":"file"},{"label":"kingbase-source","path":"kingbase-source","category":"file"}]},{"label":"kudu","category":"dir","children":[{"label":"kudu-lookup","path":"kudu-lookup","category":"file"},{"label":"kudu-sink","path":"kudu-sink","category":"file"},{"label":"kudu-source","path":"kudu-source","category":"file"}]},{"label":"logminer","category":"dir","children":[{"label":"LogMiner-source","path":"LogMiner-source","category":"file"},{"label":"LogMiner原理","path":"LogMiner原理","category":"file"},{"label":"LogMiner配置","path":"LogMiner配置","category":"file"}]},{"label":"mongodb","category":"dir","children":[{"label":"mongodb-lookup","path":"mongodb-lookup","category":"file"},{"label":"mongodb-sink","path":"mongodb-sink","category":"file"},{"label":"mongodb-source","path":"mongodb-source","category":"file"}]},{"label":"mysql","category":"dir","children":[{"label":"mysql-lookup","path":"mysql-lookup","category":"file"},{"label":"mysql-sink","path":"mysql-sink","category":"file"},{"label":"mysql-source","path":"mysql-source","category":"file"}]},{"label":"oracle","category":"dir","children":[{"label":"oracle-lookup","path":"oracle-lookup","category":"file"},{"label":"oracle-sink","path":"oracle-sink","category":"file"},{"label":"oracle-source","path":"oracle-source","category":"file"}]},{"label":"pgwal","category":"dir","children":[{"label":"Postgres-CDC","path":"Postgres-CDC","category":"file"}]},{"label":"postgresql","category":"dir","children":[{"label":"postgres-lookup","path":"postgres-lookup","category":"file"},{"label":"postgres-sink","path":"postgres-sink","category":"file"},{"label":"postgres-source","path":"postgres-source","category":"file"}]},{"label":"rocketmq","category":"dir","children":[{"label":"rocketmq-source","path":"rocketmq-source","category":"file"}]},{"label":"saphana","category":"dir","children":[{"label":"saphana-sink","path":"saphana-sink","category":"file"},{"label":"saphana-source","path":"saphana-source","category":"file"}]},{"label":"sqlserver","category":"dir","children":[{"label":"sqlserver-lookup","path":"sqlserver-lookup","category":"file"},{"label":"sqlserver-sink","path":"sqlserver-sink","category":"file"},{"label":"sqlserver-source","path":"sqlserver-source","category":"file"}]},{"label":"sqlservercdc","category":"dir","children":[{"label":"SqlServer CDC实时采集原理","path":"SqlServer CDC实时采集原理","category":"file"},{"label":"SqlServer配置CDC","path":"SqlServer配置CDC","category":"file"},{"label":"SqlserverCDC-source","path":"SqlserverCDC-source","category":"file"}]}],"category":"dir"},{"label":"开发者指南","children":[{"label":"如何提交一个优秀的PR","path":"如何提交一个优秀的PR","category":"file"},{"label":"如何自定义插件","path":"如何自定义插件","category":"file"}],"category":"dir"},{"label":"拓展功能","children":[{"label":"增量同步介绍","path":"增量同步介绍","category":"file"},{"label":"断点续传介绍","path":"断点续传介绍","category":"file"},{"label":"脏数据插件设计","path":"脏数据插件设计","category":"file"}],"category":"dir"}],"toc":[{"text":"什么是增量同步","level":1,"id":"2f9430c6-a559-4846-94e7-779745f1cf69"},{"text":"原理解析","level":2,"id":"9ade1896-7cd8-4eac-80c7-c97f87af3066"},{"text":"使用限制","level":2,"id":"983a351e-34b5-4bfb-93b8-af594dba905c"},{"text":"如何处理增量键重复场景","level":2,"id":"d1b0e4e9-b54f-4003-89ce-43f912da2edb"},{"text":"如何使用增量同步","level":1,"id":"8c1e24e1-25c5-48c8-9ebd-b1e9af027b01"},{"text":"环境准备","level":2,"id":"a77c8151-d50c-4f30-a047-c6c9fade8f6c"},{"text":"脚本配置","level":2,"id":"2cd96595-f445-4999-bd31-c603a3997e0f"},{"text":"查询prometheus","level":2,"id":"aada8f61-c479-406c-916f-dcd784ceecc2"}]},"__N_SSG":true},"page":"/documents/[slug]","query":{"slug":"拓展功能@增量同步介绍"},"buildId":"REK1tIySAbARj3BayRXco","assetPrefix":"/chunjun","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>